<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>

<div class="p-6">

    <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-purple-500"
            th:text="${titulo}">
            Libros
        </h2>

        <a th:href="@{/admin/libros/nuevo}"
           class="px-4 py-2 border border-purple-500 text-purple-400 rounded-lg 
                  hover:bg-purple-500 hover:text-white transition text-sm">
            + Nuevo libro
        </a>
    </div>

    <!-- Mensaje de confirmación -->
    <div th:if="${mensaje}" 
         class="mb-4 p-3 bg-green-900 border border-green-700 text-green-300 rounded-lg">
        <span th:text="${mensaje}"></span>
    </div>

    <div class="overflow-x-auto border border-gray-700 rounded-lg 
                bg-[#e7ebf3] text-gray-900 shadow-lg max-w-6xl mx-auto">

        <table class="min-w-full">
            <thead class="bg-[#d5d9e2] text-gray-800">
                <tr>
                    <th class="px-4 py-3 text-left">ID</th>
                    <th class="px-4 py-3 text-left">Título</th>
                    <th class="px-4 py-3 text-left">Autor</th>
                    <th class="px-4 py-3 text-left">Editorial</th>
                    <th class="px-4 py-3 text-center">Acciones</th>
                </tr>
            </thead>

            <tbody class="text-gray-900">
                <tr th:each="libro : ${libros}"
                    class="border-b border-gray-300 hover:bg-[#f3f5f9] transition">

                    <td class="px-4 py-3" th:text="${libro.id}">1</td>
                    <td class="px-4 py-3" th:text="${libro.titulo}">Título</td>
                    <td class="px-4 py-3" th:text="${libro.autor}">Autor</td>
                    <td class="px-4 py-3" th:text="${libro.editorial}">Editorial</td>

                    <td class="px-4 py-3 text-sm flex gap-2 justify-center">

                        <a th:href="@{/admin/libros/editar/{id}(id=${libro.id})}"
                           class="px-3 py-1 border border-purple-500 text-purple-500 rounded
                                  hover:bg-purple-500 hover:text-white transition">
                            Editar
                        </a>

                        <a th:href="@{/admin/libros/eliminar/{id}(id=${libro.id})}"
                           class="px-3 py-1 border border-red-500 text-red-500 rounded
                                  hover:bg-red-500 hover:text-white transition"
                           onclick="return confirm('¿Seguro que deseas eliminar este libro?');">
                            Eliminar
                        </a>
                    </td>
                </tr>

                <tr th:if="${#lists.isEmpty(libros)}">
                    <td colspan="5"
                        class="px-4 py-6 text-center text-gray-700 text-sm">
                        No hay libros registrados.
                    </td>
                </tr>
            </tbody>
        </table>

    </div>

</div>

</body>
</html>